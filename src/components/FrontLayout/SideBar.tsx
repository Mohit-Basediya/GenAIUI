import { useEffect } from "react";
import { Link, useLocation } from "react-router-dom";
import logo from "../../images/logo.png";
import DeepeshPhoto from "../../images/Deepesh_photo.webp";

const Sidebar = () => {
  const location = useLocation();

  useEffect(() => {
    const navLinks = document.querySelectorAll(".nav-link");

    const handleLinkClick = (event: any) => {
      navLinks.forEach((navLink) => navLink.classList.remove("active"));
      event.currentTarget.classList.add("active");
    };

    navLinks.forEach((link) => {
      link.addEventListener("click", handleLinkClick);
    });

    return () => {
      navLinks.forEach((link) => {
        link.removeEventListener("click", handleLinkClick);
      });
    };
  }, [location]);

  return (
    <nav id="sidebar" className="col-md-3 col-lg-2 d-md-block bg-light sidebar">
      <div className="position-sticky">
        <div className="navbar-brand">
          <img src={logo} alt="InteliGenius" />
        </div>

        <ul className="nav flex-column">
          <li className="nav-header">Tools</li>
          <li className="nav-item">
            <a
              className={`nav-link ${
                location.pathname === "/Home" ? "active" : ""
              }`}
              href="/Home"
            >
              <svg
                width="19"
                height="19"
                viewBox="0 0 19 19"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M15.8576 6.11117L11.7013 1.95492C11.6461 1.8998 11.5806 1.85609 11.5086 1.82629C11.4365 1.7965 11.3592 1.78119 11.2812 1.78125H4.15625C3.84131 1.78125 3.53926 1.90636 3.31656 2.12906C3.09386 2.35176 2.96875 2.65381 2.96875 2.96875V16.0312C2.96875 16.3462 3.09386 16.6482 3.31656 16.8709C3.53926 17.0936 3.84131 17.2188 4.15625 17.2188H14.8438C15.1587 17.2188 15.4607 17.0936 15.6834 16.8709C15.9061 16.6482 16.0312 16.3462 16.0312 16.0312V6.53125C16.0313 6.45325 16.016 6.37601 15.9862 6.30393C15.9564 6.23185 15.9127 6.16635 15.8576 6.11117ZM11.875 3.80816L14.0043 5.9375H11.875V3.80816ZM14.8438 16.0312H4.15625V2.96875H10.6875V6.53125C10.6875 6.68872 10.7501 6.83974 10.8614 6.95109C10.9728 7.06244 11.1238 7.125 11.2812 7.125H14.8438V16.0312ZM12.4688 10.0938C12.4688 10.2512 12.4062 10.4022 12.2948 10.5136C12.1835 10.6249 12.0325 10.6875 11.875 10.6875H7.125C6.96753 10.6875 6.81651 10.6249 6.70516 10.5136C6.59381 10.4022 6.53125 10.2512 6.53125 10.0938C6.53125 9.93628 6.59381 9.78525 6.70516 9.6739C6.81651 9.56256 6.96753 9.5 7.125 9.5H11.875C12.0325 9.5 12.1835 9.56256 12.2948 9.6739C12.4062 9.78525 12.4688 9.93628 12.4688 10.0938ZM12.4688 12.4688C12.4688 12.6262 12.4062 12.7772 12.2948 12.8886C12.1835 12.9999 12.0325 13.0625 11.875 13.0625H7.125C6.96753 13.0625 6.81651 12.9999 6.70516 12.8886C6.59381 12.7772 6.53125 12.6262 6.53125 12.4688C6.53125 12.3113 6.59381 12.1603 6.70516 12.0489C6.81651 11.9376 6.96753 11.875 7.125 11.875H11.875C12.0325 11.875 12.1835 11.9376 12.2948 12.0489C12.4062 12.1603 12.4688 12.3113 12.4688 12.4688Z"
                  fill="white"
                />
              </svg>
              Contract Document
            </a>
          </li>
          <li className="nav-item">
            <a
              className={`nav-link ${
                location.pathname === "/Generate_Summary" ? "active" : ""
              }`}
              href="/Generate_Summary"
            >
              <svg
                width="19"
                height="19"
                viewBox="0 0 19 19"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M16.0312 2.96875H2.96875C2.65381 2.96875 2.35176 3.09386 2.12906 3.31656C1.90636 3.53926 1.78125 3.84131 1.78125 4.15625V14.8438C1.78125 15.1587 1.90636 15.4607 2.12906 15.6834C2.35176 15.9061 2.65381 16.0312 2.96875 16.0312H16.0312C16.3462 16.0312 16.6482 15.9061 16.8709 15.6834C17.0936 15.4607 17.2188 15.1587 17.2188 14.8438V4.15625C17.2188 3.84131 17.0936 3.53926 16.8709 3.31656C16.6482 3.09386 16.3462 2.96875 16.0312 2.96875ZM16.0312 4.15625V11.7822L14.0964 9.84809C13.9861 9.73779 13.8552 9.65029 13.7111 9.5906C13.567 9.5309 13.4125 9.50018 13.2566 9.50018C13.1006 9.50018 12.9462 9.5309 12.8021 9.5906C12.658 9.65029 12.5271 9.73779 12.4168 9.84809L10.9324 11.3325L7.6668 8.06684C7.44412 7.8443 7.14219 7.7193 6.82738 7.7193C6.51257 7.7193 6.21065 7.8443 5.98797 8.06684L2.96875 11.0861V4.15625H16.0312ZM2.96875 12.7656L6.82812 8.90625L12.7656 14.8438H2.96875V12.7656ZM16.0312 14.8438H14.4452L11.7733 12.1719L13.2577 10.6875L16.0312 13.4618V14.8438ZM10.6875 7.42188C10.6875 7.24573 10.7397 7.07353 10.8376 6.92707C10.9355 6.78061 11.0746 6.66645 11.2373 6.59904C11.4 6.53164 11.5791 6.514 11.7519 6.54836C11.9246 6.58273 12.0833 6.66755 12.2079 6.79211C12.3324 6.91666 12.4173 7.07536 12.4516 7.24812C12.486 7.42089 12.4684 7.59996 12.401 7.7627C12.3335 7.92544 12.2194 8.06454 12.0729 8.1624C11.9265 8.26027 11.7543 8.3125 11.5781 8.3125C11.3419 8.3125 11.1154 8.21867 10.9484 8.05164C10.7813 7.88462 10.6875 7.65808 10.6875 7.42188Z"
                  fill="white"
                />
              </svg>
              Generate Summary
            </a>
          </li>
          <li className="nav-item">
            <a
              className={`nav-link ${
                location.pathname === "/Rag_Summary" ? "active" : ""
              }`}
              href="/Rag_Summary"
            >
              <svg
                width="19"
                height="19"
                viewBox="0 0 19 19"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M16.0312 2.96875H2.96875C2.65381 2.96875 2.35176 3.09386 2.12906 3.31656C1.90636 3.53926 1.78125 3.84131 1.78125 4.15625V14.8438C1.78125 15.1587 1.90636 15.4607 2.12906 15.6834C2.35176 15.9061 2.65381 16.0312 2.96875 16.0312H16.0312C16.3462 16.0312 16.6482 15.9061 16.8709 15.6834C17.0936 15.4607 17.2188 15.1587 17.2188 14.8438V4.15625C17.2188 3.84131 17.0936 3.53926 16.8709 3.31656C16.6482 3.09386 16.3462 2.96875 16.0312 2.96875ZM16.0312 4.15625V11.7822L14.0964 9.84809C13.9861 9.73779 13.8552 9.65029 13.7111 9.5906C13.567 9.5309 13.4125 9.50018 13.2566 9.50018C13.1006 9.50018 12.9462 9.5309 12.8021 9.5906C12.658 9.65029 12.5271 9.73779 12.4168 9.84809L10.9324 11.3325L7.6668 8.06684C7.44412 7.8443 7.14219 7.7193 6.82738 7.7193C6.51257 7.7193 6.21065 7.8443 5.98797 8.06684L2.96875 11.0861V4.15625H16.0312ZM2.96875 12.7656L6.82812 8.90625L12.7656 14.8438H2.96875V12.7656ZM16.0312 14.8438H14.4452L11.7733 12.1719L13.2577 10.6875L16.0312 13.4618V14.8438ZM10.6875 7.42188C10.6875 7.24573 10.7397 7.07353 10.8376 6.92707C10.9355 6.78061 11.0746 6.66645 11.2373 6.59904C11.4 6.53164 11.5791 6.514 11.7519 6.54836C11.9246 6.58273 12.0833 6.66755 12.2079 6.79211C12.3324 6.91666 12.4173 7.07536 12.4516 7.24812C12.486 7.42089 12.4684 7.59996 12.401 7.7627C12.3335 7.92544 12.2194 8.06454 12.0729 8.1624C11.9265 8.26027 11.7543 8.3125 11.5781 8.3125C11.3419 8.3125 11.1154 8.21867 10.9484 8.05164C10.7813 7.88462 10.6875 7.65808 10.6875 7.42188Z"
                  fill="white"
                />
              </svg>
              RAG Summary
            </a>
          </li>
        </ul>

        <ul className="nav flex-column bottom-nav">
          <li className="nav-item mb-0">
            <a className="nav-link active" href="/">
              <span className="user-photo">
                <img src={DeepeshPhoto} alt="photo" />
              </span>
              Deepesh Bhatia
            </a>
          </li>
        </ul>
      </div>
    </nav>
  );
};

export default Sidebar;
